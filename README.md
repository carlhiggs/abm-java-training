# Land Use, Transport, and Health Modelling Training

Repository for the Training Session in Cambridge 9-10 January 2025.

It is based largely on the default MATSim example project (matsim-org/matsim-example-project)

In this training, we will use two tools:
1. Integrated development environment (IDE) for Java program (IntelliJ or Eclipse)
2. VIA for visualizing MATSim results

Below are the guides of tool installation and setups. Please read the guides and set up your devices. We will help on setups during the training sessions, but it is recommended to do it beforehand in order to save training time and avoid inability/slow to download due to the internet issue.


### Install IntelliJ
1. IntelliJ (community edition) for Windows, Mac, and Linux can be found here: https://www.jetbrains.com/idea/download/
2. Please find the installation file and follow the installation wizard to install IntelliJ.
3. After installation, open IntelliJ and then follow the steps below "Import into IntelliJ" to import the MATSim training project.


### Java Version
The project requires Java 21 or higher. Usually a suitable SDK is packaged within IntelliJ or Eclipse. Otherwise, one must install a
suitable sdk manually, which is available [here](https://openjdk.java.net/)

### Import into IntelliJ (recommended)

`File -> New -> Project from Version Control` paste the repository url and hit 'clone'. IntelliJ usually figures out
that the project is a maven project. If not: `Right click on pom.xml -> import as maven project`.


### Import into eclipse

1. download a modern version of eclipse. This should have maven and git included by default.
1. `file->import->git->projects from git->clone URI` and clone as specified above.  _It will go through a
   sequence of windows; it is important that you import as 'general project'._
1. `file->import->maven->existing maven projects`

Sometimes, step 3 does not work, in particular after previously failed attempts.  Sometimes, it is possible to
right-click to `configure->convert to maven project`.  If that fails, the best thing seems to remove all
pieces of the failed attempt in the directory and start over.


### Install VIA
1. VIA for Windows & Mac can be found here: https://simunto.com/via/download
2. Apply for VIA free license here: https://simunto.com/via/licenses/free


### [Optional] Building and Running java executables locally

You can build an executable jar-file by executing the following command:

```sh
./mvnw clean package
```

or on Windows:

```sh
mvnw.cmd clean package
```

This will download all necessary dependencies (it might take a while the first time it is run) and create a file `matsim-example-project-0.0.1-SNAPSHOT.jar` in the top directory. This jar-file can either be double-clicked to start the MATSim GUI, or executed with Java on the command line:

```sh
java -jar matsim-example-project-0.0.1-SNAPSHOT.jar
```


### Licenses

The **MATSim program code** in this repository is distributed under the terms of the [GNU General Public License as published by the Free Software Foundation (version 2)](https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html). The MATSim program code are files that reside in the `src` directory hierarchy and typically end with `*.java`.

The **MATSim input files, output files, analysis data and visualizations** are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a><br /> MATSim input files are those that are used as input to run MATSim. They often, but not always, have a header pointing to matsim.org. They typically reside in the `scenarios` directory hierarchy. MATSim output files, analysis data, and visualizations are files generated by MATSim runs, or by postprocessing.  They typically reside in a directory hierarchy starting with `output`.

**Other data files**, in particular in `original-input-data`, have their own individual licenses that need to be individually clarified with the copyright holders.